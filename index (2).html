<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="theme-color" content="#0a0a18">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="PL Top 6">
<title>PL Top 6 Predictor</title>
<script>
const manifest={name:"PL Top 6 Race",short_name:"PL Top 6",description:"Premier League 2025/26 Top 6 Race Predictor",start_url:".",display:"standalone",background_color:"#0a0a18",theme_color:"#0a0a18",orientation:"portrait",icons:[{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'%3E%3Crect width='192' height='192' rx='40' fill='%23e90052'/%3E%3Ctext x='96' y='130' font-size='110' text-anchor='middle'%3E%E2%9A%BD%3C/text%3E%3C/svg%3E",sizes:"192x192",type:"image/svg+xml"},{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Crect width='512' height='512' rx='100' fill='%23e90052'/%3E%3Ctext x='256' y='360' font-size='300' text-anchor='middle'%3E%E2%9A%BD%3C/text%3E%3C/svg%3E",sizes:"512x512",type:"image/svg+xml"}]};
const blob=new Blob([JSON.stringify(manifest)],{type:'application/json'});
document.write('<link rel="manifest" href="'+URL.createObjectURL(blob)+'">');
</script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;600;700;900&family=Barlow:wght@400;500;600;700&display=swap');
:root{--pink:#e90052;--dark:#0a0a18;--card:#12122a;--card2:#1a1a38;--border:rgba(255,255,255,0.07);--text:#eeeef8;--muted:rgba(255,255,255,0.38);--gold:#ffd700;--green:#22c55e;--blue:#3b82f6;}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent;}
body{background:var(--dark);color:var(--text);font-family:'Barlow',sans-serif;min-height:100dvh;overflow-x:hidden;padding-bottom:calc(68px + env(safe-area-inset-bottom,0px));}

/* SPLASH */
#splash{position:fixed;inset:0;z-index:9999;background:var(--dark);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity .5s,visibility .5s;}
#splash.hidden{opacity:0;visibility:hidden;}
.splash-bg{position:absolute;inset:0;background:radial-gradient(ellipse 80% 60% at 50% 40%,rgba(233,0,82,.18),transparent 70%);}
.splash-logo{font-size:88px;line-height:1;animation:sBounce .8s cubic-bezier(.36,.07,.19,.97) .2s both;position:relative;z-index:1;filter:drop-shadow(0 0 30px rgba(233,0,82,.5));}
@keyframes sBounce{0%{transform:scale(0) rotate(-20deg);opacity:0}60%{transform:scale(1.15) rotate(5deg);opacity:1}80%{transform:scale(.95) rotate(-2deg)}100%{transform:scale(1) rotate(0);opacity:1}}
.splash-title{font-family:'Barlow Condensed',sans-serif;font-size:38px;font-weight:900;letter-spacing:4px;text-transform:uppercase;animation:fadeUp .6s ease .7s both;position:relative;z-index:1;margin-top:14px;}
.splash-sub{font-size:13px;letter-spacing:2px;color:var(--pink);text-transform:uppercase;font-weight:600;animation:fadeUp .6s ease .9s both;position:relative;z-index:1;margin-top:6px;}
.splash-dots{display:flex;gap:10px;margin-top:36px;animation:fadeUp .6s ease 1.1s both;position:relative;z-index:1;}
.splash-dot{width:10px;height:10px;border-radius:50%;animation:sdpulse 1.5s ease infinite;}
.splash-dot:nth-child(2){animation-delay:.15s}.splash-dot:nth-child(3){animation-delay:.3s}.splash-dot:nth-child(4){animation-delay:.45s}.splash-dot:nth-child(5){animation-delay:.6s}.splash-dot:nth-child(6){animation-delay:.75s}
@keyframes sdpulse{0%,100%{transform:scale(1);opacity:.6}50%{transform:scale(1.4);opacity:1}}
.splash-ver{position:absolute;bottom:40px;font-size:11px;color:var(--muted);animation:fadeUp .6s ease 1.3s both;}
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}

/* TOAST */
#toast{position:fixed;bottom:calc(80px + env(safe-area-inset-bottom,0px));left:50%;transform:translateX(-50%) translateY(20px);background:rgba(34,197,94,.95);color:#fff;padding:10px 22px;border-radius:30px;font-size:13px;font-weight:700;opacity:0;transition:all .3s;z-index:500;white-space:nowrap;box-shadow:0 4px 20px rgba(34,197,94,.4);}
#toast.show{opacity:1;transform:translateX(-50%) translateY(0);}

/* HEADER */
.header{background:linear-gradient(135deg,#1a0035,#2d0050 40%,rgba(233,0,82,.7));padding:calc(14px + env(safe-area-inset-top,0px)) 18px 0;position:sticky;top:0;z-index:100;box-shadow:0 2px 30px rgba(233,0,82,.25);}
.header-top{display:flex;align-items:center;gap:12px;max-width:860px;margin:0 auto 10px;}
.header-icon{width:42px;height:42px;border-radius:12px;background:linear-gradient(135deg,var(--pink),#7b00d4);display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0;}
.header-title{flex:1;}
.header-title h1{font-family:'Barlow Condensed',sans-serif;font-size:20px;font-weight:900;letter-spacing:2px;text-transform:uppercase;line-height:1;}
.header-title p{font-size:11px;color:var(--muted);margin-top:2px;}
.header-pill{background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:5px 14px;text-align:center;flex-shrink:0;}
.header-pill .num{font-family:'Barlow Condensed',sans-serif;font-size:18px;font-weight:900;line-height:1;}
.header-pill .lbl{font-size:8px;opacity:.5;letter-spacing:1px;text-transform:uppercase;}
.progress-bar{height:2px;background:rgba(255,255,255,.1);overflow:hidden;max-width:860px;margin:0 auto 12px;border-radius:2px;}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--pink),var(--gold));transition:width .5s;border-radius:2px;}

/* BOTTOM NAV */
.bottom-nav{position:fixed;bottom:0;left:0;right:0;z-index:100;background:rgba(12,12,28,.97);border-top:1px solid var(--border);backdrop-filter:blur(20px);display:flex;padding-bottom:env(safe-area-inset-bottom,0px);}
.nav-btn{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px 8px;background:none;border:none;cursor:pointer;color:var(--muted);transition:all .2s;gap:3px;}
.nav-btn.active{color:var(--pink);}
.nav-icon{font-size:22px;line-height:1;}
.nav-label{font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:1px;text-transform:uppercase;}

/* MAIN */
.main{max-width:860px;margin:0 auto;padding:16px 14px 20px;}
.section{display:none;animation:fadeIn .25s ease;}
.section.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

/* CHIPS */
.top6-chips{display:flex;flex-wrap:wrap;gap:6px;padding:10px 12px;margin-bottom:16px;background:var(--card);border:1px solid var(--border);border-radius:14px;align-items:center;}
.top6-chip{display:flex;align-items:center;gap:5px;background:rgba(255,255,255,.05);border-radius:20px;padding:4px 10px 4px 5px;font-size:12px;font-weight:700;}
.chip-dot{width:8px;height:8px;border-radius:50%;}

/* GW */
.gw-group{margin-bottom:24px;}
.gw-label{display:flex;align-items:center;gap:8px;font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:3px;text-transform:uppercase;color:var(--pink);margin-bottom:10px;}
.gw-line{height:1px;flex:1;background:rgba(233,0,82,.2);}
.gw-badge{background:rgba(233,0,82,.12);border:1px solid rgba(233,0,82,.25);border-radius:8px;padding:1px 7px;font-size:10px;}

/* FIXTURE CARD */
.fix-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:14px 14px 11px;margin-bottom:9px;transition:border-color .2s,background .2s;position:relative;}
.fix-card.filled{border-color:rgba(233,0,82,.3);background:var(--card2);}
.fix-card.clash{border-color:rgba(255,215,0,.18);background:rgba(255,215,0,.02);}
.fix-card.clash.filled{border-color:rgba(255,215,0,.4);}
.clash-tag{font-size:9px;font-weight:800;letter-spacing:2px;text-transform:uppercase;color:var(--gold);margin-bottom:9px;display:flex;align-items:center;gap:5px;}
.clash-tag::after{content:'';flex:1;height:1px;background:rgba(255,215,0,.2);}

/* CLEAR BTN */
.card-clear{position:absolute;top:12px;right:12px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:3px 9px;font-size:9px;font-weight:700;color:var(--muted);cursor:pointer;text-transform:uppercase;letter-spacing:.5px;display:none;transition:all .2s;}
.fix-card.filled .card-clear{display:block;}
.card-clear:active{background:rgba(239,68,68,.2);color:#ef4444;}

/* TEAMS */
.teams-row{display:flex;align-items:center;justify-content:space-between;gap:6px;margin-bottom:14px;}
.team-side{display:flex;flex-direction:column;align-items:center;gap:5px;flex:1;}
.badge{width:40px;height:40px;border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:900;text-shadow:0 1px 3px rgba(0,0,0,.7);box-shadow:0 2px 10px rgba(0,0,0,.35);transition:transform .2s,box-shadow .2s;}
.badge.win{transform:scale(1.12);box-shadow:0 4px 16px rgba(255,215,0,.4);}
.team-lname{font-size:12px;font-weight:700;text-align:center;line-height:1.2;transition:color .2s;}
.team-lname.winner{color:var(--gold);}
.team-ha{font-size:9px;color:var(--muted);text-transform:uppercase;letter-spacing:1px;}
.vs-text{font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;color:var(--muted);flex-shrink:0;}

/* ‚îÄ‚îÄ SCORE CONTROLS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
.score-controls{display:flex;align-items:center;justify-content:center;gap:10px;}
.score-side{display:flex;align-items:center;gap:7px;}

/* +/- buttons ‚Äì nice big tap targets */
.score-btn{
  width:40px;height:40px;border-radius:50%;border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  font-size:22px;font-weight:900;line-height:1;
  transition:transform .12s,background .12s;
  user-select:none;touch-action:manipulation;
}
.score-btn.minus{background:rgba(255,255,255,.09);color:rgba(255,255,255,.55);}
.score-btn.minus:active{background:rgba(255,255,255,.18);transform:scale(.88);}
.score-btn.plus{background:rgba(233,0,82,.2);color:var(--pink);border:1px solid rgba(233,0,82,.35);}
.score-btn.plus:active{background:rgba(233,0,82,.38);transform:scale(.88);}

/* score display box */
.score-display{
  min-width:52px;height:52px;
  background:rgba(0,0,0,.4);border:2px solid rgba(255,255,255,.1);border-radius:12px;
  display:flex;align-items:center;justify-content:center;
  font-family:'Barlow Condensed',sans-serif;font-size:28px;font-weight:900;
  color:var(--muted);transition:all .2s;
}
.score-display.has-score{color:#fff;border-color:rgba(255,255,255,.22);}
.score-display.win-score{color:var(--gold);border-color:rgba(255,215,0,.45);background:rgba(255,215,0,.09);}

.score-divider{font-family:'Barlow Condensed',sans-serif;font-size:20px;font-weight:900;color:rgba(255,255,255,.18);padding:0 2px;}

/* RESULT PILL */
.result-pill{text-align:center;font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding-top:9px;opacity:0;height:0;overflow:hidden;transition:opacity .3s,height .25s;}
.result-pill.show{opacity:1;height:24px;}
.result-pill.hw{color:#22c55e;}.result-pill.aw{color:#f97316;}.result-pill.dr{color:#60a5fa;}

/* TABLE */
.stats-row{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:16px;}
.stat-box{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:12px 10px;text-align:center;}
.stat-box .val{font-family:'Barlow Condensed',sans-serif;font-size:28px;font-weight:900;line-height:1;color:var(--pink);}
.stat-box .lbl{font-size:9px;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-top:3px;}
.table-card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;margin-bottom:14px;}
.table-header{display:grid;grid-template-columns:14px 34px 1fr 38px 38px 38px 44px 50px 56px;padding:10px 14px;background:rgba(255,255,255,.03);border-bottom:1px solid var(--border);font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--muted);gap:4px;align-items:center;}
.th-right{text-align:right;}.th-center{text-align:center;}
.table-row{display:grid;grid-template-columns:14px 34px 1fr 38px 38px 38px 44px 50px 56px;padding:12px 14px;gap:4px;align-items:center;border-bottom:1px solid var(--border);animation:rowSlide .4s ease both;}
.table-row:last-child{border-bottom:none;}
@keyframes rowSlide{from{opacity:0;transform:translateX(-8px)}to{opacity:1;transform:translateX(0)}}
.table-row.r1{background:rgba(255,215,0,.06);}
.table-row.r2,.table-row.r3,.table-row.r4{background:rgba(34,197,94,.07);}
.table-row.r5{background:rgba(59,130,246,.07);}
.rank-num{font-family:'Barlow Condensed',sans-serif;font-size:16px;font-weight:900;text-align:center;}
.team-col{display:flex;align-items:center;gap:8px;overflow:hidden;}
.team-col .badge{width:30px;height:30px;font-size:9px;flex-shrink:0;}
.team-col-name{font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.move-tag{font-size:9px;font-weight:700;}
.move-up{color:#22c55e;}.move-down{color:#ef4444;}.move-same{color:var(--muted);}
.td-center{text-align:center;font-size:13px;color:var(--muted);}
.cur-pts{text-align:right;font-size:13px;color:var(--muted);}
.extra-pts{text-align:right;font-size:13px;font-weight:700;color:#22c55e;}
.pred-pts{text-align:right;font-family:'Barlow Condensed',sans-serif;font-size:22px;font-weight:900;}
.pred-pts.gold{color:var(--gold);}
.champ-badge{font-size:8px;font-weight:800;letter-spacing:1px;text-transform:uppercase;background:var(--gold);color:#111;border-radius:4px;padding:1px 5px;margin-left:5px;vertical-align:middle;display:inline-block;}
.table-legend{display:flex;flex-wrap:wrap;gap:10px;padding:10px 14px;background:rgba(255,255,255,.02);border-top:1px solid var(--border);}
.legend-item{display:flex;align-items:center;gap:5px;font-size:10px;color:var(--muted);}
.legend-pip{width:7px;height:7px;border-radius:50%;}
.note-box{background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:10px;padding:10px 14px;font-size:11px;color:var(--muted);line-height:1.6;}

/* SETTINGS */
.settings-section{margin-bottom:20px;}
.settings-title{font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:3px;text-transform:uppercase;color:var(--muted);margin-bottom:10px;padding-left:2px;}
.settings-card{background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;}
.settings-row{display:flex;align-items:center;justify-content:space-between;padding:15px 16px;border-bottom:1px solid var(--border);gap:12px;}
.settings-row:last-child{border-bottom:none;}
.settings-row-icon{font-size:20px;flex-shrink:0;}
.settings-row-text{flex:1;}
.row-title{font-size:14px;font-weight:600;}
.row-sub{font-size:11px;color:var(--muted);margin-top:2px;}
.btn-danger{background:rgba(239,68,68,.15);color:#ef4444;border:1px solid rgba(239,68,68,.3);border-radius:10px;padding:10px 18px;font-size:13px;font-weight:700;cursor:pointer;font-family:'Barlow',sans-serif;}
.btn-danger:active{transform:scale(.97);}
.app-info-card{background:linear-gradient(135deg,rgba(233,0,82,.1),rgba(45,0,80,.2));border:1px solid rgba(233,0,82,.2);border-radius:16px;padding:20px;text-align:center;margin-bottom:20px;}
.app-info-icon{font-size:48px;margin-bottom:10px;}
.app-info-name{font-family:'Barlow Condensed',sans-serif;font-size:22px;font-weight:900;letter-spacing:2px;text-transform:uppercase;}
.app-info-version{font-size:11px;color:var(--muted);margin-top:4px;}
.progress-detail{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;}
.progress-detail-title{font-size:13px;font-weight:700;margin-bottom:12px;display:flex;justify-content:space-between;}
.pct-bar-wrap{height:8px;background:rgba(255,255,255,.08);border-radius:4px;overflow:hidden;}
.pct-bar-fill{height:100%;background:linear-gradient(90deg,var(--pink),var(--gold));border-radius:4px;transition:width .5s;}
.pct-labels{display:flex;justify-content:space-between;margin-top:6px;font-size:11px;color:var(--muted);}

/* MODAL */
.modal-overlay{position:fixed;inset:0;z-index:800;background:rgba(0,0,0,.7);backdrop-filter:blur(4px);display:flex;align-items:flex-end;justify-content:center;opacity:0;visibility:hidden;transition:all .3s;}
.modal-overlay.open{opacity:1;visibility:visible;}
.modal-sheet{background:var(--card2);border:1px solid var(--border);border-radius:20px 20px 0 0;padding:24px 20px 32px;width:100%;max-width:500px;transform:translateY(100%);transition:transform .35s cubic-bezier(.4,0,.2,1);}
.modal-overlay.open .modal-sheet{transform:translateY(0);}
.modal-title{font-family:'Barlow Condensed',sans-serif;font-size:20px;font-weight:900;margin-bottom:6px;}
.modal-body{font-size:13px;color:var(--muted);line-height:1.6;margin-bottom:20px;}
.modal-actions{display:flex;gap:10px;}
.modal-actions button{flex:1;padding:13px;border-radius:12px;font-size:14px;font-weight:700;cursor:pointer;border:none;font-family:'Barlow',sans-serif;transition:all .2s;}
.modal-cancel{background:rgba(255,255,255,.08);color:var(--text);}
.modal-confirm{background:#ef4444;color:#fff;}

::-webkit-scrollbar{width:4px;height:4px;}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,.12);border-radius:4px;}
</style>
</head>
<body>

<div id="splash">
  <div class="splash-bg"></div>
  <div class="splash-logo">‚öΩ</div>
  <div class="splash-title">PL Top 6</div>
  <div class="splash-sub">2025/26 Race Predictor</div>
  <div class="splash-dots">
    <div class="splash-dot" style="background:#EF0107"></div>
    <div class="splash-dot" style="background:#6CABDD"></div>
    <div class="splash-dot" style="background:#95BFE5"></div>
    <div class="splash-dot" style="background:#DA020E"></div>
    <div class="splash-dot" style="background:#034694"></div>
    <div class="splash-dot" style="background:#C8102E"></div>
  </div>
  <div class="splash-ver">2025/26 Season ¬∑ GW29‚Äì38</div>
</div>

<div id="toast">‚úì Predictions saved</div>

<div class="modal-overlay" id="modal">
  <div class="modal-sheet">
    <div class="modal-title">üóë Reset all predictions?</div>
    <div class="modal-body">This will clear all your entered scores. This cannot be undone.</div>
    <div class="modal-actions">
      <button class="modal-cancel" onclick="closeModal()">Cancel</button>
      <button class="modal-confirm" onclick="confirmReset()">Yes, Reset</button>
    </div>
  </div>
</div>

<div class="header">
  <div class="header-top">
    <div class="header-icon">‚öΩ</div>
    <div class="header-title">
      <h1>Top 6 Race</h1>
      <p id="subtitle">GW29‚Äì38 ¬∑ 0 fixtures predicted</p>
    </div>
    <div class="header-pill">
      <div class="num" id="counter">0</div>
      <div class="lbl">filled</div>
    </div>
  </div>
  <div class="progress-bar"><div class="progress-fill" id="progress" style="width:0%"></div></div>
</div>

<div class="main">
  <div class="section active" id="tab-fixtures">
    <div class="top6-chips">
      <span style="font-size:10px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-right:2px;">Tracking</span>
      <div class="top6-chip"><div class="chip-dot" style="background:#EF0107"></div>Arsenal</div>
      <div class="top6-chip"><div class="chip-dot" style="background:#6CABDD"></div>Man City</div>
      <div class="top6-chip"><div class="chip-dot" style="background:#95BFE5"></div>Aston Villa</div>
      <div class="top6-chip"><div class="chip-dot" style="background:#DA020E"></div>Man United</div>
      <div class="top6-chip"><div class="chip-dot" style="background:#034694"></div>Chelsea</div>
      <div class="top6-chip"><div class="chip-dot" style="background:#C8102E"></div>Liverpool</div>
    </div>
    <div id="fixtures-container"></div>
  </div>

  <div class="section" id="tab-table">
    <div class="stats-row">
      <div class="stat-box"><div class="val" id="s-filled">0</div><div class="lbl">Predicted</div></div>
      <div class="stat-box"><div class="val" id="s-goals">0</div><div class="lbl">Goals</div></div>
      <div class="stat-box"><div class="val" id="s-left">‚Äî</div><div class="lbl">Remaining</div></div>
    </div>
    <div class="table-card">
      <div class="table-header">
        <div></div><div class="th-center">#</div><div>Team</div>
        <div class="th-center">W</div><div class="th-center">D</div><div class="th-center">L</div>
        <div class="th-right">Cur</div><div class="th-right">+Pts</div><div class="th-right">Pred</div>
      </div>
      <div id="table-body"></div>
      <div class="table-legend">
        <div class="legend-item"><div class="legend-pip" style="background:var(--gold)"></div>Title</div>
        <div class="legend-item"><div class="legend-pip" style="background:#22c55e"></div>Champions League</div>
        <div class="legend-item"><div class="legend-pip" style="background:#3b82f6"></div>Europa League</div>
      </div>
    </div>
    <div class="note-box">‚ö†Ô∏è Points reflect only fixtures shown here. Results vs teams outside the top 6 are not included.</div>
  </div>

  <div class="section" id="tab-settings">
    <div class="app-info-card">
      <div class="app-info-icon">‚öΩ</div>
      <div class="app-info-name">PL Top 6 Race</div>
      <div class="app-info-version">2025/26 Season ¬∑ Made with Claude AI</div>
    </div>
    <div class="settings-section">
      <div class="settings-title">Predictions</div>
      <div class="settings-card">
        <div class="settings-row">
          <div class="settings-row-icon">üíæ</div>
          <div class="settings-row-text"><div class="row-title">Auto-Save</div><div class="row-sub">Predictions save automatically as you tap</div></div>
          <span style="font-size:11px;color:#22c55e;font-weight:700;">ON</span>
        </div>
        <div class="settings-row">
          <div class="settings-row-icon">üìä</div>
          <div class="settings-row-text"><div class="row-title">Progress</div><div class="row-sub" id="settings-progress-text">0 of 57 fixtures entered</div></div>
        </div>
        <div class="settings-row">
          <div class="settings-row-icon">üóë</div>
          <div class="settings-row-text"><div class="row-title">Reset Predictions</div><div class="row-sub">Clear all entered scores</div></div>
          <button class="btn-danger" onclick="openModal()">Reset</button>
        </div>
      </div>
    </div>
    <div class="settings-section">
      <div class="settings-title">Progress</div>
      <div class="progress-detail">
        <div class="progress-detail-title"><span>Fixtures Predicted</span><span id="settings-pct">0%</span></div>
        <div class="pct-bar-wrap"><div class="pct-bar-fill" id="settings-bar" style="width:0%"></div></div>
        <div class="pct-labels"><span>0</span><span id="settings-total">57</span></div>
      </div>
    </div>
    <div class="settings-section">
      <div class="settings-title">Install as App</div>
      <div class="settings-card">
        <div class="settings-row">
          <div class="settings-row-icon">üì±</div>
          <div class="settings-row-text"><div class="row-title">Add to Home Screen</div><div class="row-sub">Tap Share ‚Üí "Add to Home Screen" in your browser to install</div></div>
        </div>
      </div>
    </div>
  </div>
</div>

<nav class="bottom-nav">
  <button class="nav-btn active" onclick="showTab('fixtures',this)"><span class="nav-icon">üìã</span><span class="nav-label">Fixtures</span></button>
  <button class="nav-btn" onclick="showTab('table',this)"><span class="nav-icon">üèÜ</span><span class="nav-label">Table</span></button>
  <button class="nav-btn" onclick="showTab('settings',this)"><span class="nav-icon">‚öôÔ∏è</span><span class="nav-label">Settings</span></button>
</nav>

<script>
const TOP6=['ARS','MCI','AVL','MUN','CFC','LFC'];
const TEAMS={
  ARS:{short:"Arsenal",col:"#EF0107"},MCI:{short:"Man City",col:"#6CABDD"},
  AVL:{short:"Aston Villa",col:"#95BFE5"},MUN:{short:"Man United",col:"#DA020E"},
  CFC:{short:"Chelsea",col:"#034694"},LFC:{short:"Liverpool",col:"#C8102E"},
  BRE:{short:"Brentford",col:"#E30613"},BOU:{short:"Bournemouth",col:"#DA291C"},
  EVE:{short:"Everton",col:"#003399"},FUL:{short:"Fulham",col:"#CC0000"},
  NEW:{short:"Newcastle",col:"#241F20"},SUN:{short:"Sunderland",col:"#EB172B"},
  CRY:{short:"C. Palace",col:"#1B458F"},BRI:{short:"Brighton",col:"#0057B8"},
  LEE:{short:"Leeds Utd",col:"#FFCD00"},TOT:{short:"Spurs",col:"#132257"},
  NFO:{short:"Forest",col:"#DD0000"},WHU:{short:"West Ham",col:"#7A263A"},
  BUR:{short:"Burnley",col:"#6C1D45"},WOL:{short:"Wolves",col:"#FDB913"},
};
const STANDINGS=[
  {abbr:"ARS",w:18,d:7,l:3,pts:61},{abbr:"MCI",w:17,d:5,l:5,pts:56},
  {abbr:"AVL",w:15,d:6,l:6,pts:51},{abbr:"MUN",w:13,d:9,l:5,pts:48},
  {abbr:"CFC",w:12,d:9,l:6,pts:45},{abbr:"LFC",w:13,d:6,l:8,pts:45},
];
const ALL=[
  {id:1,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"WOL",away:"AVL"},{id:2,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"BOU",away:"SUN"},
  {id:3,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"ARS",away:"CFC"},{id:4,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"BRI",away:"NFO"},
  {id:5,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"BUR",away:"BRE"},{id:6,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"FUL",away:"TOT"},
  {id:7,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"LEE",away:"MCI"},{id:8,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"LFC",away:"WHU"},
  {id:9,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"MUN",away:"CRY"},{id:10,gw:"GW29",dates:"27 Feb ‚Äì 1 Mar",home:"NEW",away:"EVE"},
  {id:11,gw:"GW30",dates:"4 Mar",home:"BOU",away:"BRE"},{id:12,gw:"GW30",dates:"4 Mar",home:"AVL",away:"CFC"},
  {id:13,gw:"GW30",dates:"4 Mar",home:"BRI",away:"ARS"},{id:14,gw:"GW30",dates:"4 Mar",home:"EVE",away:"BUR"},
  {id:15,gw:"GW30",dates:"4 Mar",home:"FUL",away:"WHU"},{id:16,gw:"GW30",dates:"4 Mar",home:"LEE",away:"SUN"},
  {id:17,gw:"GW30",dates:"4 Mar",home:"MCI",away:"NFO"},{id:18,gw:"GW30",dates:"4 Mar",home:"NEW",away:"MUN"},
  {id:19,gw:"GW30",dates:"4 Mar",home:"TOT",away:"CRY"},{id:20,gw:"GW30",dates:"4 Mar",home:"WOL",away:"LFC"},
  {id:21,gw:"GW31",dates:"14 Mar",home:"ARS",away:"EVE"},{id:22,gw:"GW31",dates:"14 Mar",home:"BRE",away:"WOL"},
  {id:23,gw:"GW31",dates:"14 Mar",home:"BUR",away:"BOU"},{id:24,gw:"GW31",dates:"14 Mar",home:"CFC",away:"NEW"},
  {id:25,gw:"GW31",dates:"14 Mar",home:"CRY",away:"LEE"},{id:26,gw:"GW31",dates:"14 Mar",home:"LFC",away:"TOT"},
  {id:27,gw:"GW31",dates:"14 Mar",home:"MUN",away:"AVL"},{id:28,gw:"GW31",dates:"14 Mar",home:"NFO",away:"FUL"},
  {id:29,gw:"GW31",dates:"14 Mar",home:"SUN",away:"BRI"},{id:30,gw:"GW31",dates:"14 Mar",home:"WHU",away:"MCI"},
  {id:31,gw:"GW32",dates:"21 Mar",home:"BOU",away:"MUN"},{id:32,gw:"GW32",dates:"21 Mar",home:"AVL",away:"WHU"},
  {id:33,gw:"GW32",dates:"21 Mar",home:"BRI",away:"LFC"},{id:34,gw:"GW32",dates:"21 Mar",home:"EVE",away:"CFC"},
  {id:35,gw:"GW32",dates:"21 Mar",home:"FUL",away:"BUR"},{id:36,gw:"GW32",dates:"21 Mar",home:"LEE",away:"BRE"},
  {id:37,gw:"GW32",dates:"21 Mar",home:"MCI",away:"CRY"},{id:38,gw:"GW32",dates:"21 Mar",home:"NEW",away:"SUN"},
  {id:39,gw:"GW32",dates:"21 Mar",home:"TOT",away:"NFO"},{id:40,gw:"GW32",dates:"21 Mar",home:"WOL",away:"ARS"},
  {id:41,gw:"GW33",dates:"11 Apr",home:"ARS",away:"BOU"},{id:42,gw:"GW33",dates:"11 Apr",home:"BRE",away:"EVE"},
  {id:43,gw:"GW33",dates:"11 Apr",home:"BUR",away:"BRI"},{id:44,gw:"GW33",dates:"11 Apr",home:"CFC",away:"MCI"},
  {id:45,gw:"GW33",dates:"11 Apr",home:"CRY",away:"NEW"},{id:46,gw:"GW33",dates:"11 Apr",home:"LFC",away:"FUL"},
  {id:47,gw:"GW33",dates:"11 Apr",home:"MUN",away:"LEE"},{id:48,gw:"GW33",dates:"11 Apr",home:"NFO",away:"AVL"},
  {id:49,gw:"GW33",dates:"11 Apr",home:"SUN",away:"TOT"},{id:50,gw:"GW33",dates:"11 Apr",home:"WHU",away:"WOL"},
  {id:51,gw:"GW34",dates:"18 Apr",home:"AVL",away:"SUN"},{id:52,gw:"GW34",dates:"18 Apr",home:"BRE",away:"FUL"},
  {id:53,gw:"GW34",dates:"18 Apr",home:"CFC",away:"MUN"},{id:54,gw:"GW34",dates:"18 Apr",home:"CRY",away:"WHU"},
  {id:55,gw:"GW34",dates:"18 Apr",home:"EVE",away:"LFC"},{id:56,gw:"GW34",dates:"18 Apr",home:"LEE",away:"WOL"},
  {id:57,gw:"GW34",dates:"18 Apr",home:"MCI",away:"ARS"},{id:58,gw:"GW34",dates:"18 Apr",home:"NEW",away:"BOU"},
  {id:59,gw:"GW34",dates:"18 Apr",home:"NFO",away:"BUR"},{id:60,gw:"GW34",dates:"18 Apr",home:"TOT",away:"BRI"},
  {id:61,gw:"GW35",dates:"25 Apr",home:"BOU",away:"LEE"},{id:62,gw:"GW35",dates:"25 Apr",home:"ARS",away:"NEW"},
  {id:63,gw:"GW35",dates:"25 Apr",home:"BRI",away:"CFC"},{id:64,gw:"GW35",dates:"25 Apr",home:"BUR",away:"MCI"},
  {id:65,gw:"GW35",dates:"25 Apr",home:"FUL",away:"AVL"},{id:66,gw:"GW35",dates:"25 Apr",home:"LFC",away:"CRY"},
  {id:67,gw:"GW35",dates:"25 Apr",home:"MUN",away:"BRE"},{id:68,gw:"GW35",dates:"25 Apr",home:"SUN",away:"NFO"},
  {id:69,gw:"GW35",dates:"25 Apr",home:"WHU",away:"EVE"},{id:70,gw:"GW35",dates:"25 Apr",home:"WOL",away:"TOT"},
  {id:71,gw:"GW36",dates:"2 May",home:"BOU",away:"CRY"},{id:72,gw:"GW36",dates:"2 May",home:"ARS",away:"FUL"},
  {id:73,gw:"GW36",dates:"2 May",home:"AVL",away:"TOT"},{id:74,gw:"GW36",dates:"2 May",home:"BRE",away:"WHU"},
  {id:75,gw:"GW36",dates:"2 May",home:"CFC",away:"NFO"},{id:76,gw:"GW36",dates:"2 May",home:"EVE",away:"MCI"},
  {id:77,gw:"GW36",dates:"2 May",home:"LEE",away:"BUR"},{id:78,gw:"GW36",dates:"2 May",home:"MUN",away:"LFC"},
  {id:79,gw:"GW36",dates:"2 May",home:"NEW",away:"BRI"},{id:80,gw:"GW36",dates:"2 May",home:"WOL",away:"SUN"},
  {id:81,gw:"GW37",dates:"9 May",home:"BRI",away:"WOL"},{id:82,gw:"GW37",dates:"9 May",home:"BUR",away:"AVL"},
  {id:83,gw:"GW37",dates:"9 May",home:"CRY",away:"EVE"},{id:84,gw:"GW37",dates:"9 May",home:"FUL",away:"BOU"},
  {id:85,gw:"GW37",dates:"9 May",home:"LFC",away:"CFC"},{id:86,gw:"GW37",dates:"9 May",home:"MCI",away:"BRE"},
  {id:87,gw:"GW37",dates:"9 May",home:"NFO",away:"NEW"},{id:88,gw:"GW37",dates:"9 May",home:"SUN",away:"MUN"},
  {id:89,gw:"GW37",dates:"9 May",home:"TOT",away:"LEE"},{id:90,gw:"GW37",dates:"9 May",home:"WHU",away:"ARS"},
  {id:91,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"BRI",away:"MUN"},{id:92,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"BUR",away:"WOL"},
  {id:93,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"CRY",away:"ARS"},{id:94,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"FUL",away:"NEW"},
  {id:95,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"LFC",away:"BRE"},{id:96,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"MCI",away:"AVL"},
  {id:97,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"NFO",away:"BOU"},{id:98,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"SUN",away:"CFC"},
  {id:99,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"TOT",away:"EVE"},{id:100,gw:"GW38 ‚Äì Final Day",dates:"24 May",home:"WHU",away:"LEE"},
];

const FIXTURES=ALL.filter(f=>TOP6.includes(f.home)||TOP6.includes(f.away));
const TOTAL=FIXTURES.length;
const SAVE_KEY='pl_top6_v3';
let scores={};

function loadScores(){try{const s=localStorage.getItem(SAVE_KEY);if(s)scores=JSON.parse(s);}catch(e){scores={};}}
let saveTimer;
function saveScores(){
  clearTimeout(saveTimer);
  saveTimer=setTimeout(()=>{
    try{localStorage.setItem(SAVE_KEY,JSON.stringify(scores));}catch(e){}
    showToast('‚úì Saved','rgba(34,197,94,.95)');
  },500);
}
function showToast(msg,bg){
  const t=document.getElementById('toast');
  t.textContent=msg;t.style.background=bg;
  t.classList.add('show');setTimeout(()=>t.classList.remove('show'),1800);
}

function makeBadge(abbr,size=40){
  const t=TEAMS[abbr]||{col:'#666'};
  const r=parseInt(t.col.slice(1,3),16),g=parseInt(t.col.slice(3,5),16),b=parseInt(t.col.slice(5,7),16);
  const bright=r*.299+g*.587+b*.114;
  const tc=(abbr==='LEE'||bright>140)?'#111':'#fff';
  const el=document.createElement('div');el.className='badge';
  el.style.cssText=`width:${size}px;height:${size}px;background:radial-gradient(circle at 35% 35%,${t.col}ee,${t.col}77);border:2px solid ${t.col};font-size:${Math.round(size*.26)}px;color:${tc};`;
  el.textContent=abbr;return el;
}

function buildFixtures(){
  const con=document.getElementById('fixtures-container');con.innerHTML='';
  const gw={};
  FIXTURES.forEach(f=>{if(!gw[f.gw])gw[f.gw]={dates:f.dates,list:[]};gw[f.gw].list.push(f);});
  Object.entries(gw).forEach(([g,{dates,list}])=>{
    const grp=document.createElement('div');grp.className='gw-group';
    const lbl=document.createElement('div');lbl.className='gw-label';
    lbl.innerHTML=`<span>${g}<span style="font-weight:400;opacity:.5;margin-left:6px;">${dates}</span></span><div class="gw-line"></div><span class="gw-badge">${list.length}</span>`;
    grp.appendChild(lbl);
    list.forEach(f=>grp.appendChild(buildCard(f)));
    con.appendChild(grp);
  });
}

function buildCard(f){
  const isClash=TOP6.includes(f.home)&&TOP6.includes(f.away);
  const card=document.createElement('div');
  card.className=`fix-card${isClash?' clash':''}`;card.id=`card-${f.id}`;

  if(isClash){const t=document.createElement('div');t.className='clash-tag';t.textContent='‚≠ê Top 6 Clash';card.appendChild(t);}

  const clr=document.createElement('button');clr.className='card-clear';clr.textContent='Clear';
  clr.onclick=()=>{delete scores[f.id];updateCard(f);saveScores();updateCounts();};
  card.appendChild(clr);

  // Teams
  const tr=document.createElement('div');tr.className='teams-row';
  const hs=document.createElement('div');hs.className='team-side';
  const hb=makeBadge(f.home);hb.id=`hb-${f.id}`;
  const hn=document.createElement('div');hn.className='team-lname';hn.id=`hn-${f.id}`;hn.textContent=TEAMS[f.home]?.short||f.home;
  const hha=document.createElement('div');hha.className='team-ha';hha.textContent='Home';
  hs.appendChild(hb);hs.appendChild(hn);hs.appendChild(hha);

  const vs=document.createElement('div');vs.className='vs-text';vs.textContent='VS';

  const as=document.createElement('div');as.className='team-side';
  const ab=makeBadge(f.away);ab.id=`ab-${f.id}`;
  const an=document.createElement('div');an.className='team-lname';an.id=`an-${f.id}`;an.textContent=TEAMS[f.away]?.short||f.away;
  const aha=document.createElement('div');aha.className='team-ha';aha.textContent='Away';
  as.appendChild(ab);as.appendChild(an);as.appendChild(aha);

  tr.appendChild(hs);tr.appendChild(vs);tr.appendChild(as);
  card.appendChild(tr);

  // Score controls
  const sc=document.createElement('div');sc.className='score-controls';

  // Home controls
  const hside=document.createElement('div');hside.className='score-side';
  const hm=document.createElement('button');hm.className='score-btn minus';hm.textContent='‚àí';hm.setAttribute('aria-label','Home goal minus');
  const hd=document.createElement('div');hd.className='score-display';hd.id=`hd-${f.id}`;hd.textContent='‚Äì';
  const hp=document.createElement('button');hp.className='score-btn plus';hp.textContent='+';hp.setAttribute('aria-label','Home goal plus');
  hside.appendChild(hm);hside.appendChild(hd);hside.appendChild(hp);

  const sdiv=document.createElement('div');sdiv.className='score-divider';sdiv.textContent='‚Äì';

  // Away controls
  const aside=document.createElement('div');aside.className='score-side';
  const am=document.createElement('button');am.className='score-btn minus';am.textContent='‚àí';am.setAttribute('aria-label','Away goal minus');
  const ad=document.createElement('div');ad.className='score-display';ad.id=`ad-${f.id}`;ad.textContent='‚Äì';
  const ap=document.createElement('button');ap.className='score-btn plus';ap.textContent='+';ap.setAttribute('aria-label','Away goal plus');
  aside.appendChild(am);aside.appendChild(ad);aside.appendChild(ap);

  sc.appendChild(hside);sc.appendChild(sdiv);sc.appendChild(aside);
  card.appendChild(sc);

  const pill=document.createElement('div');pill.className='result-pill';pill.id=`pill-${f.id}`;
  card.appendChild(pill);

  function get(){return scores[f.id]||{h:null,a:null};}
  function set(s){scores[f.id]=s;updateCard(f);saveScores();updateCounts();}

  hp.addEventListener('click',()=>{const s=get();s.h=(s.h===null?0:Math.min(s.h+1,20));if(s.a===null)s.a=0;set(s);});
  hm.addEventListener('click',()=>{const s=get();if(s.h===null)return;s.h=Math.max(s.h-1,0);set(s);});
  ap.addEventListener('click',()=>{const s=get();s.a=(s.a===null?0:Math.min(s.a+1,20));if(s.h===null)s.h=0;set(s);});
  am.addEventListener('click',()=>{const s=get();if(s.a===null)return;s.a=Math.max(s.a-1,0);set(s);});

  if(scores[f.id])updateCard(f);
  return card;
}

function updateCard(f){
  const s=scores[f.id]||{h:null,a:null};
  const filled=s.h!==null&&s.a!==null;
  document.getElementById(`card-${f.id}`).classList.toggle('filled',filled);

  const hd=document.getElementById(`hd-${f.id}`),ad=document.getElementById(`ad-${f.id}`);
  const hb=document.getElementById(`hb-${f.id}`),ab=document.getElementById(`ab-${f.id}`);
  const hn=document.getElementById(`hn-${f.id}`),an=document.getElementById(`an-${f.id}`);
  const pill=document.getElementById(`pill-${f.id}`);

  hd.textContent=s.h!==null?s.h:'‚Äì';
  ad.textContent=s.a!==null?s.a:'‚Äì';
  hd.className='score-display'+(s.h!==null?' has-score':'');
  ad.className='score-display'+(s.a!==null?' has-score':'');

  if(filled){
    const res=s.h>s.a?'home':s.a>s.h?'away':'draw';
    if(hd)hd.className='score-display has-score'+(res==='home'?' win-score':'');
    if(ad)ad.className='score-display has-score'+(res==='away'?' win-score':'');
    if(hb){hb.classList.toggle('win',res==='home');}
    if(ab){ab.classList.toggle('win',res==='away');}
    if(hn)hn.classList.toggle('winner',res==='home');
    if(an)an.classList.toggle('winner',res==='away');
    pill.className=`result-pill show ${res==='draw'?'dr':res==='home'?'hw':'aw'}`;
    pill.textContent=res==='draw'?'‚öñÔ∏è DRAW':res==='home'?`‚úÖ ${f.home} WIN`:`‚úÖ ${f.away} WIN`;
  } else {
    if(hb)hb.classList.remove('win');if(ab)ab.classList.remove('win');
    if(hn)hn.classList.remove('winner');if(an)an.classList.remove('winner');
    pill.className='result-pill';
  }
}

function compute(){
  let filled=0,goals=0;
  const ex={};TOP6.forEach(a=>{ex[a]={pts:0,w:0,d:0,l:0};});
  FIXTURES.forEach(f=>{
    const s=scores[f.id];
    if(!s||s.h===null||s.a===null)return;
    filled++;goals+=s.h+s.a;
    if(TOP6.includes(f.home)){if(s.h>s.a){ex[f.home].pts+=3;ex[f.home].w++;}else if(s.h===s.a){ex[f.home].pts+=1;ex[f.home].d++;}else ex[f.home].l++;}
    if(TOP6.includes(f.away)){if(s.a>s.h){ex[f.away].pts+=3;ex[f.away].w++;}else if(s.a===s.h){ex[f.away].pts+=1;ex[f.away].d++;}else ex[f.away].l++;}
  });
  const table=STANDINGS.map(t=>({...t,name:TEAMS[t.abbr].short,predPts:t.pts+ex[t.abbr].pts,predW:t.w+ex[t.abbr].w,predD:t.d+ex[t.abbr].d,predL:t.l+ex[t.abbr].l,extra:ex[t.abbr].pts,origRank:STANDINGS.findIndex(x=>x.abbr===t.abbr)+1})).sort((a,b)=>b.predPts-a.predPts||b.predW-a.predW);
  return{table,filled,goals};
}

function renderTable(){
  const {table}=compute();
  const tbody=document.getElementById('table-body');tbody.innerHTML='';
  table.forEach((t,i)=>{
    const rank=i+1,move=t.origRank-rank;
    const rowCls=['','r1','r2','r3','r4','r5','r6'][rank]||'';
    const pipCol=rank===1?'var(--gold)':rank<=4?'#22c55e':rank===5?'#3b82f6':'rgba(255,255,255,.15)';
    const rankCol=rank===1?'var(--gold)':rank<=4?'#22c55e':rank===5?'#3b82f6':'var(--muted)';
    const moveHtml=move>0?`<span class="move-tag move-up">‚ñ≤${move}</span>`:move<0?`<span class="move-tag move-down">‚ñº${Math.abs(move)}</span>`:`<span class="move-tag move-same">‚Äî</span>`;
    const champHtml=rank===1?'<span class="champ-badge">TITLE</span>':'';
    const tr=document.createElement('div');tr.className=`table-row ${rowCls}`;tr.style.animationDelay=`${i*.05}s`;
    tr.innerHTML=`<div><div style="width:6px;height:6px;border-radius:50%;background:${pipCol};margin:auto;box-shadow:0 0 5px ${pipCol}"></div></div><div class="rank-num" style="color:${rankCol}">${rank}</div>`;
    const tc=document.createElement('div');tc.className='team-col';tc.appendChild(makeBadge(t.abbr,30));
    const info=document.createElement('div');info.className='team-col-info';
    info.innerHTML=`<div class="team-col-name">${t.name}${champHtml}</div>${moveHtml}`;
    tc.appendChild(info);tr.appendChild(tc);
    tr.innerHTML+=`<div class="td-center">${t.predW}</div><div class="td-center">${t.predD}</div><div class="td-center">${t.predL}</div><div class="cur-pts">${t.pts}</div><div class="extra-pts">${t.extra>0?'+'+t.extra:'‚Äî'}</div>`;
    const ptd=document.createElement('div');ptd.className=`pred-pts${t.extra>0?' gold':''}`;ptd.textContent=t.predPts;
    tr.appendChild(ptd);tbody.appendChild(tr);
  });
}

function updateCounts(){
  const{filled,goals}=compute();
  const pct=Math.round((filled/TOTAL)*100);
  document.getElementById('counter').textContent=filled;
  document.getElementById('progress').style.width=pct+'%';
  document.getElementById('subtitle').textContent=`GW29‚Äì38 ¬∑ ${filled}/${TOTAL} predicted`;
  document.getElementById('s-filled').textContent=filled;
  document.getElementById('s-goals').textContent=goals;
  document.getElementById('s-left').textContent=TOTAL-filled;
  document.getElementById('settings-progress-text').textContent=`${filled} of ${TOTAL} fixtures entered`;
  document.getElementById('settings-pct').textContent=pct+'%';
  document.getElementById('settings-bar').style.width=pct+'%';
  document.getElementById('settings-total').textContent=TOTAL;
  renderTable();
}

function showTab(name,btn){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('tab-'+name).classList.add('active');
  btn.classList.add('active');
}

function openModal(){document.getElementById('modal').classList.add('open');}
function closeModal(){document.getElementById('modal').classList.remove('open');}
function confirmReset(){
  scores={};try{localStorage.removeItem(SAVE_KEY);}catch(e){}
  FIXTURES.forEach(f=>updateCard(f));
  closeModal();updateCounts();
  showToast('‚úì Cleared','rgba(239,68,68,.95)');
}
document.getElementById('modal').addEventListener('click',function(e){if(e.target===this)closeModal();});

loadScores();buildFixtures();updateCounts();
setTimeout(()=>document.getElementById('splash').classList.add('hidden'),2200);
</script>
</body>
</html>
